<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Endless 3D Racing Game - Smoke & Reflection</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:Arial,sans-serif;overflow:hidden;background:#16213e;color:white;}
#game-container{position:relative;width:100%;height:100vh;}
#canvas{display:block;}
#ui{position:absolute;top:10px;left:10px;z-index:100;background:rgba(0,0,0,0.4);padding:10px 15px;border-radius:8px;backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,0.1);font-size:14px;max-width:200px;}
#score{font-size:18px;margin-bottom:5px;}
#start-screen{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:200;text-align:center;padding:20px;}
h1{font-size:36px;margin-bottom:20px;color:#ffcc00;text-shadow:0 0 10px rgba(255,204,0,0.5);}
button{background:#ffcc00;color:#000;border:none;padding:12px 25px;font-size:18px;border-radius:50px;cursor:pointer;margin:15px;transition:all 0.3s;font-weight:bold;}
button:hover{background:#ffdd33;transform:scale(1.05);}
#game-stats{position:absolute;top:10px;right:10px;z-index:100;background:rgba(0,0,0,0.4);padding:10px 15px;border-radius:8px;backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,0.1);font-size:14px;text-align:right;}
.mini-map{position:absolute;bottom:15px;right:15px;width:150px;height:150px;background:rgba(0,0,0,0.4);border-radius:8px;border:1px solid rgba(255,255,255,0.1);z-index:100;backdrop-filter:blur(5px);}
@media(max-width:768px){#ui,#game-stats{font-size:12px;padding:8px 12px;}h1{font-size:28px;}button{padding:10px 20px;font-size:16px;}}
</style>
</head>
<body>
<div id="game-container">
<canvas id="canvas"></canvas>
<div id="ui">
<div id="score">Distance: 0m | Speed: 0 km/h</div>
<div>Time: <span id="time">0</span>s</div>
</div>
<div id="game-stats">
<div>Obstacles: <span id="obstacles-hit">0</span></div>
<div>Best Distance: <span id="best-distance">0</span>m</div>
</div>
<div class="mini-map"><canvas id="map-canvas" width="150" height="150"></canvas></div>
<div id="start-screen">
<h1>ENDLESS 3D RACING</h1>
<p>Race on an infinite road and avoid obstacles!</p>
<p style="margin:10px 0;font-size:14px;opacity:0.8;">Use arrow keys or WASD to control your car</p>
<button id="start-btn">START RACE</button>
<div style="margin-top:20px;font-size:12px;opacity:0.6;">The road never ends - see how far you can go!</div>
</div>
</div>
<script>
// The entire JS code from previous answer goes here
</script>
</body>
</html>